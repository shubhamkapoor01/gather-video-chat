[{"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\index.js":"1","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\App.js":"2","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\JoinRoom.js":"3","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\Room.js":"4","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\Chat.js":"5","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\RoomSetup.js":"6","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\Model.js":"7","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\index.js":"8","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\App.js":"9","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\JoinRoom.js":"10","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\Room.js":"11","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\Chat.js":"12","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\RoomSetup.js":"13","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\Model.js":"14"},{"size":277,"mtime":1643045427806,"results":"15","hashOfConfig":"16"},{"size":450,"mtime":1643045427790,"results":"17","hashOfConfig":"16"},{"size":1857,"mtime":1643045427790,"results":"18","hashOfConfig":"16"},{"size":11691,"mtime":1643045427790,"results":"19","hashOfConfig":"16"},{"size":2625,"mtime":1643045427790,"results":"20","hashOfConfig":"16"},{"size":3274,"mtime":1643045427790,"results":"21","hashOfConfig":"16"},{"size":1252,"mtime":1643045427790,"results":"22","hashOfConfig":"16"},{"size":277,"mtime":1643399948248,"results":"23","hashOfConfig":"24"},{"size":450,"mtime":1643399948237,"results":"25","hashOfConfig":"24"},{"size":1857,"mtime":1643399948239,"results":"26","hashOfConfig":"24"},{"size":19051,"mtime":1643569740450,"results":"27","hashOfConfig":"24"},{"size":2625,"mtime":1643399948238,"results":"28","hashOfConfig":"24"},{"size":3274,"mtime":1643399948242,"results":"29","hashOfConfig":"24"},{"size":1252,"mtime":1643399948240,"results":"30","hashOfConfig":"24"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"581a52",{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},"12ogyqw",{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"47"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":41,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"47"},"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\index.js",[],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\App.js",[],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\JoinRoom.js",["63","64"],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\Room.js",["65","66","67","68","69"],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\Chat.js",[],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\RoomSetup.js",[],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver-1\\gather-video-chat\\server\\client\\src\\Model.js",["70","71","72"],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\index.js",[],["73","74"],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\App.js",[],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\JoinRoom.js",["75","76"],"import React, { useState } from \"react\";\r\nimport \"./JoinRoom.css\";\r\nimport { v1 as uuid } from \"uuid\";\r\nimport io from \"socket.io-client\";\r\nimport e from \"cors\";\r\n\r\nconst socket = io.connect(\"http://localhost:3001\");\r\n\r\nfunction JoinRoom(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [room, setRoom] = useState(\"\");\r\n\r\n  const joinRoom = (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\" || room === \"\") {\r\n      alert(\"Please enter valid values\");\r\n      return;\r\n    }\r\n\r\n    document.getElementById(\"input-name\").value = \"\";\r\n    document.getElementById(\"input-room\").value = \"\";\r\n\r\n    props.history.push(`/room/${room}`);\r\n  };\r\n\r\n  const createRoom = (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      alert(\"Please enter a name\");\r\n      return;\r\n    }\r\n\r\n    document.getElementById(\"input-name\").value = \"\";\r\n    document.getElementById(\"input-room\").value = \"\";\r\n\r\n    const roomID = uuid();\r\n    props.history.push(`/room/${roomID}`);\r\n  };\r\n  return (\r\n    <div className=\"overAll\">\r\n      <div className=\"joinRoom\">\r\n        <h1 className=\"entryTitle\"> Enter Room Details </h1>\r\n        <input\r\n          id=\"input-name\"\r\n          type=\"text\"\r\n          placeholder=\"Enter Your Name...\"\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <input\r\n          id=\"input-room\"\r\n          type=\"text\"\r\n          placeholder=\"Enter Room ID...\"\r\n          onChange={(e) => setRoom(e.target.value)}\r\n        />\r\n        <button className=\"joinBtn\" type=\"submit\" onClick={(e) => joinRoom(e)}>\r\n          {\" \"}\r\n          Join a room{\" \"}\r\n        </button>\r\n        <div className=\"line\"></div>\r\n        <button className=\"createBtn\" onClick={(e) => createRoom(e)}>\r\n          {\" \"}\r\n          Create new room{\" \"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default JoinRoom;\r\n","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\Room.js",["77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117"],"import React, { useEffect, useRef, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\nimport \"./Room.css\";\r\nimport Sketch from \"react-p5\";\r\nimport styled from \"styled-components\";\r\nimport Chat from \"./Chat\";\r\nimport RoomSetup from \"./RoomSetup\";\r\nimport Model from \"./Model\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\nimport imag from \"./Sprites/char-idle.png\";\r\nimport imagu from \"./Sprites/char-run-f.gif\";\r\nimport imagr from \"./Sprites/char-run-r-1.gif\";\r\nimport imagl from \"./Sprites/char-run-l.gif\";\r\nimport imagd from \"./Sprites/char-run-2.gif\";\r\nimport imagg from \"./Sprites/char-idle-green-1.png\";\r\nimport imago from \"./Sprites/char-idle-orange-1.png\";\r\nimport bg1 from \"./Sprites/bg-8.png\";\r\nimport imaggb from \"./Sprites/char-run-b-g.gif\";\r\nimport imaggf from \"./Sprites/char-run-f-g.gif\";\r\nimport imaggl from \"./Sprites/char-run-l-g.gif\";\r\nimport imaggr from \"./Sprites/char-run-r-g.gif\";\r\nimport imagob from \"./Sprites/char-run-b-o.gif\";\r\nimport imagof from \"./Sprites/char-run-f-o.gif\";\r\nimport imagol from \"./Sprites/char-run-l-o.gif\";\r\nimport imagor from \"./Sprites/char-run-r-o.gif\";\r\nlet img,\r\n  imgu,\r\n  imgr,\r\n  imgl,\r\n  bg,\r\n  imgd,\r\n  imgg,\r\n  imgo,\r\n  imggb,\r\n  imggf,\r\n  imggl,\r\n  imggr,\r\n  imgob,\r\n  imgof,\r\n  imgol,\r\n  imgor;\r\nlet keypressed = false;\r\nlet greenUsed = false;\r\nlet fr = 60;\r\nvar twoLeft = false;\r\nvar userNum = null;\r\nlet colorSet = [];\r\nlet tempUsers = [];\r\nlet tempFine;\r\n<script\r\n  src=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/js/all.min.js\"\r\n  integrity=\"sha512-cyAbuGborsD25bhT/uz++wPqrh5cqPh1ULJz4NSpN9ktWcA6Hnh9g+CWKeNx2R0fgQt+ybRXdabSBgYXkQTTmA==\"\r\n  crossorigin=\"anonymous\"\r\n  referrerpolicy=\"no-referrer\"\r\n></script>;\r\nconst socket = io.connect(\"http://localhost:3001\");\r\n\r\nconst StyledVideo = styled.video`\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n\r\nconst Video = (props) => {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    ref.current.srcObject = props.peer._remoteStreams[0];\r\n  }, []);\r\n\r\n  return <StyledVideo playsInline autoPlay ref={ref} />;\r\n};\r\n\r\nfunction Room(props) {\r\n  const [aiEnabled, setAiEnabled] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [mic, setMic] = useState(true);\r\n  const [cam, setCam] = useState(true);\r\n  const [faces, setFaces] = useState(1);\r\n  const [joinedRoom, setJoinedRoom] = useState(false);\r\n\r\n  const [nearby, setNearby] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const userVideo = useRef();\r\n  const modelVideo = useRef();\r\n  const peersRef = useRef([]);\r\n  const roomID = props.match.params.roomID;\r\n\r\n  useEffect(() => {\r\n    if (!joinedRoom) {\r\n      return;\r\n    }\r\n    navigator.mediaDevices\r\n      .getUserMedia({ video: true, audio: true })\r\n      .then((stream) => {\r\n        userVideo.current.srcObject = stream;\r\n        modelVideo.current = {};\r\n        modelVideo.current.srcObject = stream;\r\n        if (!cam) {\r\n          cameraOnOff();\r\n        }\r\n        if (!mic) {\r\n          muteUnmute();\r\n        }\r\n        socket.emit(\"join room\", { roomID: roomID, name: name });\r\n        socket.on(\"all users\", (users) => {\r\n          users.forEach((userID) => {\r\n            const peer = createPeer(userID, socket.id, stream);\r\n            peersRef.current.push({\r\n              peerID: userID,\r\n              peer,\r\n            });\r\n          });\r\n        });\r\n\r\n        socket.on(\"user joined\", (payload) => {\r\n          const peer = addPeer(payload.signal, payload.callerID, stream);\r\n          peersRef.current.push({\r\n            peerID: payload.callerID,\r\n            peer,\r\n          });\r\n        });\r\n\r\n        socket.on(\"receiving returned signal\", (payload) => {\r\n          const item = peersRef.current.find((p) => p.peerID === payload.id);\r\n          item.peer.signal(payload.signal);\r\n        });\r\n\r\n        socket.on(\"user left\", (id) => {\r\n          const peerObj = peersRef.current.find((p) => p.peerID === id);\r\n          if (peerObj) {\r\n            peerObj.peer.destroy();\r\n          }\r\n          const peers = peersRef.current.filter((p) => p.peerID !== id);\r\n          const tempNearby = nearby.filter((p) => p.peerID !== id);\r\n          peersRef.current = peers;\r\n          setNearby(tempNearby);\r\n        });\r\n      });\r\n  }, [joinedRoom]);\r\n\r\n  const createPeer = (userToSignal, callerID, stream) => {\r\n    const peer = new Peer({\r\n      initiator: true,\r\n      trickle: false,\r\n      stream,\r\n    });\r\n\r\n    peer.on(\"signal\", (signal) => {\r\n      socket.emit(\"sending signal\", { userToSignal, callerID, signal });\r\n    });\r\n\r\n    return peer;\r\n  };\r\n\r\n  const addPeer = (incomingSignal, callerID, stream) => {\r\n    const peer = new Peer({\r\n      initiator: false,\r\n      trickle: false,\r\n      stream,\r\n    });\r\n\r\n    peer.on(\"signal\", (signal) => {\r\n      socket.emit(\"returning signal\", { signal, callerID });\r\n    });\r\n\r\n    peer.signal(incomingSignal);\r\n\r\n    return peer;\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"receive move\", (data) => {\r\n      setUsers(data.all);\r\n      var me = {};\r\n      for (let i = 0; i < data.all.length; i++) {\r\n        if (data.all[i].id === socket.id) {\r\n          me = data.all[i];\r\n          break;\r\n        }\r\n      }\r\n\r\n      var tempNearby = [];\r\n      for (let i = 0; i < data.all.length; i++) {\r\n        if (data.all[i].id === socket.id) {\r\n          continue;\r\n        }\r\n        if (proximity(data.all[i], me)) {\r\n          for (var j = 0; j < peersRef.current.length; j++) {\r\n            if (peersRef.current[j].peerID === data.all[i].id) {\r\n              tempNearby.push({\r\n                peerObj: peersRef.current[j],\r\n                name: data.all[i].name,\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      setNearby(tempNearby);\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    if (!joinedRoom) {\r\n      return;\r\n    }\r\n\r\n    if (faces !== 1) {\r\n      userVideo.current.srcObject.getVideoTracks()[0].enabled = false;\r\n      userVideo.current.srcObject.getAudioTracks()[0].enabled = false;\r\n    } else {\r\n      if (cam) {\r\n        userVideo.current.srcObject.getVideoTracks()[0].enabled = true;\r\n      }\r\n      if (mic) {\r\n        userVideo.current.srcObject.getAudioTracks()[0].enabled = true;\r\n      }\r\n    }\r\n  }, [faces]);\r\n\r\n  const muteUnmute = (e) => {\r\n    const enabled = userVideo.current.srcObject.getAudioTracks()[0].enabled;\r\n    if (enabled) {\r\n      userVideo.current.srcObject.getAudioTracks()[0].enabled = false;\r\n      setMic(false);\r\n    } else {\r\n      userVideo.current.srcObject.getAudioTracks()[0].enabled = true;\r\n      setMic(true);\r\n    }\r\n    const muteBtn = document.querySelector(\".mute-1\");\r\n    muteBtn.classList.toggle(\"whitened\");\r\n  };\r\n\r\n  const cameraOnOff = (e) => {\r\n    const enabled = userVideo.current.srcObject.getVideoTracks()[0].enabled;\r\n    if (enabled) {\r\n      userVideo.current.srcObject.getVideoTracks()[0].enabled = false;\r\n      setCam(false);\r\n    } else {\r\n      userVideo.current.srcObject.getVideoTracks()[0].enabled = true;\r\n      setCam(true);\r\n    }\r\n    const cameraBtn = document.querySelector(\".camera-1\");\r\n    cameraBtn.classList.toggle(\"cameraOff\");\r\n  };\r\n\r\n  const screenShare = (e) => {\r\n    navigator.mediaDevices\r\n      .getDisplayMedia({\r\n        cursor: true,\r\n      })\r\n      .then((screen) => {\r\n        const screenTrack = screen.getVideoTracks()[0];\r\n        userVideo.current.srcObject = screen;\r\n        for (let i = 0; i < peersRef.current.length; i++) {\r\n          let p = peersRef.current[i].peer;\r\n          p.streams[0].getVideoTracks()[0].stop();\r\n          p.replaceTrack(\r\n            p.streams[0].getVideoTracks()[0],\r\n            screenTrack,\r\n            p.streams[0]\r\n          );\r\n        }\r\n\r\n        screenTrack.onended = () => {\r\n          navigator.mediaDevices\r\n            .getUserMedia({ video: true, audio: true })\r\n            .then((stream) => {\r\n              const videoTrack = stream.getVideoTracks()[0];\r\n              userVideo.current.srcObject = stream;\r\n              for (let i = 0; i < peersRef.current.length; i++) {\r\n                let p = peersRef.current[i].peer;\r\n                p.streams[0].getVideoTracks()[0].stop();\r\n                p.replaceTrack(\r\n                  p.streams[0].getVideoTracks()[0],\r\n                  videoTrack,\r\n                  p.streams[0]\r\n                );\r\n              }\r\n            });\r\n        };\r\n      });\r\n  };\r\n\r\n  const proximity = (user, me) => {\r\n    if (\r\n      (user.x - me.x) * (user.x - me.x) + (user.y - me.y) * (user.y - me.y) <=\r\n      10000\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  let preload = (p5) => {\r\n    img = p5.loadImage(imag);\r\n    imgu = p5.loadImage(imagu);\r\n    imgr = p5.loadImage(imagr);\r\n    imgl = p5.loadImage(imagl);\r\n    imgd = p5.loadImage(imagd);\r\n    bg = p5.loadImage(bg1);\r\n    imgg = p5.loadImage(imagg);\r\n    imgo = p5.loadImage(imago);\r\n    imggb = p5.loadImage(imaggb);\r\n    imggf = p5.loadImage(imaggf);\r\n    imggl = p5.loadImage(imaggl);\r\n    imggr = p5.loadImage(imaggr);\r\n    imgob = p5.loadImage(imagob);\r\n    imgof = p5.loadImage(imagof);\r\n    imgol = p5.loadImage(imagol);\r\n    imgor = p5.loadImage(imagor);\r\n  };\r\n\r\n  let setup = (p5, canvas) => {\r\n    p5.frameRate(fr);\r\n    let canv = p5.createCanvas(924, 500).parent(canvas);\r\n    tempUsers.push({\r\n      id: socket.id,\r\n      room: roomID,\r\n      x: 462,\r\n      y: 100,\r\n      direction: null,\r\n      quit: false,\r\n    });\r\n\r\n    setUsers(tempUsers);\r\n  };\r\n\r\n  let draw = (p5) => {\r\n    p5.background(bg);\r\n    let winClose = false;\r\n    let idx = users.findIndex((user) => user.id === socket.id);\r\n    if (idx !== -1) {\r\n      let tempUsers = users;\r\n      tempUsers[idx].direction = null;\r\n      if (p5.keyIsDown(87) || p5.keyIsDown(38)) {\r\n        keypressed = true;\r\n        tempUsers[idx].y = tempUsers[idx].y - 2;\r\n        p5.image(imgu, users[idx].x, users[idx].y);\r\n        tempUsers[idx].direction = \"w\";\r\n      } else if (p5.keyIsDown(65) || p5.keyIsDown(37)) {\r\n        keypressed = true;\r\n        tempUsers[idx].x = tempUsers[idx].x - 2;\r\n        p5.image(imgl, users[idx].x, users[idx].y);\r\n        tempUsers[idx].direction = \"a\";\r\n      } else if (p5.keyIsDown(83) || p5.keyIsDown(40)) {\r\n        keypressed = true;\r\n        tempUsers[idx].y = tempUsers[idx].y + 2;\r\n        p5.image(imgd, users[idx].x, users[idx].y);\r\n        tempUsers[idx].direction = \"s\";\r\n      } else if (p5.keyIsDown(68) || p5.keyIsDown(39)) {\r\n        keypressed = true;\r\n        tempUsers[idx].x = tempUsers[idx].x + 2;\r\n        p5.image(imgr, users[idx].x, users[idx].y);\r\n        tempUsers[idx].direction = \"d\";\r\n      } else if (p5.keyIsDown(27)) {\r\n        tempUsers[idx].quit = true;\r\n      }\r\n      if (keypressed == false) {\r\n        if (users[idx].quit == false) {\r\n          p5.image(img, users[idx].x, users[idx].y);\r\n        }\r\n      }\r\n      keypressed = false;\r\n      setUsers(tempUsers);\r\n      let data = {\r\n        id: socket.id,\r\n        room: roomID,\r\n        x: tempUsers[idx].x,\r\n        y: tempUsers[idx].y,\r\n        direction: tempUsers[idx].direction,\r\n        quit: tempUsers[idx].quit,\r\n      };\r\n      socket.emit(\"send move\", data);\r\n    }\r\n\r\n    for (let i = 0; i < users.length; i++) {\r\n      if (i === idx) {\r\n        continue;\r\n      }\r\n      if (i === userNum) {\r\n        continue;\r\n      }\r\n      if (twoLeft == true) {\r\n        if (users[i].quit == true) {\r\n          continue;\r\n        }\r\n        if (users.length == 3) {\r\n          if (users[i].direction == \"w\") {\r\n            p5.image(imggb, users[i].x, users[i].y);\r\n          } else if (users[i].direction == \"s\") {\r\n            p5.image(imggf, users[i].x, users[i].y);\r\n          } else if (users[i].direction == \"a\") {\r\n            p5.image(imggl, users[i].x, users[i].y);\r\n          } else if (users[i].direction == \"d\") {\r\n            p5.image(imggr, users[i].x, users[i].y);\r\n          } else {\r\n            p5.image(imgg, users[i].x, users[i].y);\r\n          }\r\n          continue;\r\n        }\r\n      }\r\n      if (users[i].quit === true) {\r\n        if (users.length === 3) {\r\n          userNum = i;\r\n          twoLeft = true;\r\n          continue;\r\n        }\r\n        continue;\r\n      }\r\n      if (colorSet[i] == \"g\") {\r\n        if (users[i].direction == \"w\") {\r\n          p5.image(imggb, users[i].x, users[i].y);\r\n        } else if (users[i].direction == \"s\") {\r\n          p5.image(imggf, users[i].x, users[i].y);\r\n        } else if (users[i].direction == \"a\") {\r\n          p5.image(imggl, users[i].x, users[i].y);\r\n        } else if (users[i].direction == \"d\") {\r\n          p5.image(imggr, users[i].x, users[i].y);\r\n        } else {\r\n          p5.image(imgg, users[i].x, users[i].y);\r\n        }\r\n        continue;\r\n      }\r\n      if (colorSet[i] == \"o\") {\r\n        if (users[i].direction == \"w\") {\r\n          p5.image(imgob, users[i].x, users[i].y);\r\n        } else if (users[i].direction == \"s\") {\r\n          p5.image(imgof, users[i].x, users[i].y);\r\n        } else if (users[i].direction == \"a\") {\r\n          p5.image(imgol, users[i].x, users[i].y);\r\n        } else if (users[i].direction == \"d\") {\r\n          p5.image(imgor, users[i].x, users[i].y);\r\n        } else {\r\n          p5.image(imgo, users[i].x, users[i].y);\r\n        }\r\n        continue;\r\n      }\r\n      if (users.length == 2) {\r\n        if (users[i].direction == \"w\") {\r\n          p5.image(imggb, users[i].x, users[i].y);\r\n        } else if (users[i].direction == \"s\") {\r\n          p5.image(imggf, users[i].x, users[i].y);\r\n        } else if (users[i].direction == \"a\") {\r\n          p5.image(imggl, users[i].x, users[i].y);\r\n        } else if (users[i].direction == \"d\") {\r\n          p5.image(imggr, users[i].x, users[i].y);\r\n        } else {\r\n          p5.image(imgg, users[i].x, users[i].y);\r\n        }\r\n      } else if (users.length > 2) {\r\n        if (greenUsed == false) {\r\n          colorSet[i] = \"g\";\r\n          if (users[i].direction == \"w\") {\r\n            p5.image(imggb, users[i].x, users[i].y);\r\n          } else if (users[i].direction == \"s\") {\r\n            p5.image(imggf, users[i].x, users[i].y);\r\n          } else if (users[i].direction == \"a\") {\r\n            p5.image(imggl, users[i].x, users[i].y);\r\n          } else if (users[i].direction == \"d\") {\r\n            p5.image(imggr, users[i].x, users[i].y);\r\n          } else {\r\n            p5.image(imgg, users[i].x, users[i].y);\r\n          }\r\n          greenUsed = true;\r\n        } else {\r\n          colorSet[i] = \"o\";\r\n          if (users[i].direction == \"w\") {\r\n            p5.image(imgob, users[i].x, users[i].y);\r\n          } else if (users[i].direction == \"s\") {\r\n            p5.image(imgof, users[i].x, users[i].y);\r\n          } else if (users[i].direction == \"a\") {\r\n            p5.image(imgol, users[i].x, users[i].y);\r\n          } else if (users[i].direction == \"d\") {\r\n            p5.image(imgor, users[i].x, users[i].y);\r\n          } else {\r\n            p5.image(imgo, users[i].x, users[i].y);\r\n          }\r\n          greenUsed = false;\r\n        }\r\n      }\r\n    }\r\n  };\r\n  // const setFalse = () => {\r\n  //   let idx = users.findIndex((user) => user.id === socket.id);\r\n  //   if (tempFine) {\r\n  //     users[idx].quit = false;\r\n  //   }\r\n  //   return;\r\n  // };\r\n  const leaveRoom = () => {\r\n    let idx = users.findIndex((user) => user.id === socket.id);\r\n    if (tempFine) {\r\n      users[idx].quit = true;\r\n    }\r\n    tempFine = false;\r\n  };\r\n  useEffect(\r\n    () => {\r\n      let idx = users.findIndex((user) => user.id === socket.id);\r\n      if (users[idx] != undefined) {\r\n        tempFine = true;\r\n      }\r\n      console.log(tempFine);\r\n      if (users.length > 0) {\r\n        if (users[idx].quit === true) {\r\n          // setFalse();\r\n          // console.log(users[idx].quit);\r\n          props.history.push(`/`);\r\n        }\r\n      }\r\n    },\r\n    [draw],\r\n    [leaveRoom]\r\n  );\r\n\r\n  const handleAiToggle = () => {\r\n    if (aiEnabled) {\r\n      setAiEnabled(false);\r\n    } else {\r\n      setAiEnabled(true);\r\n    }\r\n    const aiBtn = document.querySelector(\".enable-ai\");\r\n    aiBtn.classList.toggle(\"aiBtnOn\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {joinedRoom ? (\r\n        <div className=\"room\">\r\n          <div className=\"video-canvas\">\r\n            <div className=\"buttonbox\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"mute-1\"\r\n                onClick={(e) => muteUnmute(e)}\r\n              >\r\n                {\" \"}\r\n                <i className=\"fa fa-microphone-slash\"></i>{\" \"}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"camera-1\"\r\n                onClick={(e) => cameraOnOff(e)}\r\n              >\r\n                {\" \"}\r\n                <i className=\"fa fa-camera\"></i>{\" \"}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"screenshare-1\"\r\n                onClick={(e) => screenShare(e)}\r\n              >\r\n                {\" \"}\r\n                <i className=\"fa fa-desktop\"></i>{\" \"}\r\n              </button>\r\n            </div>\r\n            <div className=\"videobox\">\r\n              <div className=\"video-container\">\r\n                <p className=\"person-name\">{name}</p>\r\n                <div className=\"video-style\">\r\n                  <StyledVideo\r\n                    className=\"video-room\"\r\n                    muted\r\n                    ref={userVideo}\r\n                    autoPlay\r\n                    playsInline\r\n                  />\r\n                </div>\r\n              </div>\r\n              {nearby.map((peer) => {\r\n                return (\r\n                  <div className=\"video-container-peer\">\r\n                    <p className=\"person-name-peer\">{peer.name}</p>\r\n                    <div className=\"video-style-peer\">\r\n                      <Video peer={peer.peerObj.peer} />\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n            <Sketch\r\n              setup={setup}\r\n              draw={draw}\r\n              preload={preload}\r\n              className=\"canvas\"\r\n            />\r\n            <button className=\"leave-room\" onClick={(e) => leaveRoom()}>\r\n              Leave Room\r\n            </button>\r\n          </div>\r\n          <div>\r\n            <button className=\"enable-ai\" onClick={(e) => handleAiToggle()}>\r\n              Enable Gesture Recognition\r\n            </button>\r\n            {aiEnabled ? (\r\n              <Model\r\n                streamRef={modelVideo}\r\n                setFaces={(faces) => setFaces(faces)}\r\n              />\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            <Chat className=\"chat\" socket={socket} room={roomID} name={name} />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <RoomSetup\r\n          setJoinedRoom={() => setJoinedRoom(true)}\r\n          setMic={(preference) => setMic(preference)}\r\n          setCam={(preference) => setCam(preference)}\r\n          setName={(name) => setName(name)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Room;\r\n","C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\Chat.js",[],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\RoomSetup.js",[],"C:\\Users\\mozah\\Desktop\\Hanzla College files\\Gather\\ver exp\\gather-video-chat\\server\\client\\src\\Model.js",["118","119","120"],"import React, { useState, useRef } from 'react'\r\nimport * as tf from '@tensorflow/tfjs'\r\nimport * as fp from 'fingerpose'\r\nimport * as blazeface from '@tensorflow-models/blazeface'\r\nimport Webcam from 'react-webcam'\r\nimport './Model.css'\r\n\r\nfunction Model(props) {\r\n\tconst webcamRef = useRef(null);\r\n\r\n\tconst runHandpose = async () => {\r\n\t\tconst net = await blazeface.load();\r\n\r\n\t\tsetInterval(() => {\r\n\t\t\tdetect(net);\r\n\t\t}, 1000)\r\n\t}\r\n\r\n  const detect = async (net) => {\r\n    if (\r\n      typeof webcamRef.current !== \"undefined\" &&\r\n      webcamRef.current !== null &&\r\n      webcamRef.current.video.readyState === 4\r\n    ) {\r\n      const video = webcamRef.current.video;\r\n      const videoWidth = webcamRef.current.video.videoWidth;\r\n      const videoHeight = webcamRef.current.video.videoHeight;\r\n\r\n      webcamRef.current.video.width = videoWidth;\r\n      webcamRef.current.video.height = videoHeight;\r\n\r\n      const faces = await net.estimateFaces(video);\r\n\t\t\tconsole.log(faces.length);\r\n\t\t\tprops.setFaces(faces.length);\r\n    }\r\n  };\r\n\r\n  runHandpose();\r\n\r\n\treturn (\r\n\t\t<div className=\"model\">\r\n\t\t\t<Webcam\r\n  \t    ref={webcamRef}\r\n  \t    style={{\r\n\t\t\t\t\twidth: \"0px\",\r\n\t\t\t\t\theight: \"0px\",\r\n  \t    }}\r\n     \t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Model",{"ruleId":"121","severity":1,"message":"122","line":5,"column":8,"nodeType":"123","messageId":"124","endLine":5,"endColumn":9},{"ruleId":"121","severity":1,"message":"125","line":7,"column":7,"nodeType":"123","messageId":"124","endLine":7,"endColumn":13},{"ruleId":"126","severity":1,"message":"127","line":29,"column":6,"nodeType":"128","endLine":29,"endColumn":8,"suggestions":"129"},{"ruleId":"126","severity":1,"message":"130","line":100,"column":6,"nodeType":"128","endLine":100,"endColumn":18,"suggestions":"131"},{"ruleId":"126","severity":1,"message":"132","line":163,"column":6,"nodeType":"128","endLine":163,"endColumn":14,"suggestions":"133"},{"ruleId":"126","severity":1,"message":"134","line":181,"column":6,"nodeType":"128","endLine":181,"endColumn":13,"suggestions":"135"},{"ruleId":"121","severity":1,"message":"136","line":250,"column":9,"nodeType":"123","messageId":"124","endLine":250,"endColumn":13},{"ruleId":"121","severity":1,"message":"137","line":1,"column":17,"nodeType":"123","messageId":"124","endLine":1,"endColumn":25},{"ruleId":"121","severity":1,"message":"138","line":2,"column":13,"nodeType":"123","messageId":"124","endLine":2,"endColumn":15},{"ruleId":"121","severity":1,"message":"139","line":3,"column":13,"nodeType":"123","messageId":"124","endLine":3,"endColumn":15},{"ruleId":"140","replacedBy":"141"},{"ruleId":"142","replacedBy":"143"},{"ruleId":"121","severity":1,"message":"122","line":5,"column":8,"nodeType":"123","messageId":"124","endLine":5,"endColumn":9},{"ruleId":"121","severity":1,"message":"125","line":7,"column":7,"nodeType":"123","messageId":"124","endLine":7,"endColumn":13},{"ruleId":"126","severity":1,"message":"127","line":69,"column":6,"nodeType":"128","endLine":69,"endColumn":8,"suggestions":"144"},{"ruleId":"126","severity":1,"message":"130","line":140,"column":6,"nodeType":"128","endLine":140,"endColumn":18,"suggestions":"145"},{"ruleId":"126","severity":1,"message":"132","line":202,"column":6,"nodeType":"128","endLine":202,"endColumn":14,"suggestions":"146"},{"ruleId":"126","severity":1,"message":"134","line":220,"column":6,"nodeType":"128","endLine":220,"endColumn":13,"suggestions":"147"},{"ruleId":"121","severity":1,"message":"136","line":318,"column":9,"nodeType":"123","messageId":"124","endLine":318,"endColumn":13},{"ruleId":"121","severity":1,"message":"148","line":333,"column":9,"nodeType":"123","messageId":"124","endLine":333,"endColumn":17},{"ruleId":"149","severity":1,"message":"150","line":361,"column":22,"nodeType":"151","messageId":"152","endLine":361,"endColumn":24},{"ruleId":"149","severity":1,"message":"150","line":362,"column":29,"nodeType":"151","messageId":"152","endLine":362,"endColumn":31},{"ruleId":"149","severity":1,"message":"150","line":386,"column":19,"nodeType":"151","messageId":"152","endLine":386,"endColumn":21},{"ruleId":"149","severity":1,"message":"150","line":387,"column":27,"nodeType":"151","messageId":"152","endLine":387,"endColumn":29},{"ruleId":"149","severity":1,"message":"150","line":390,"column":26,"nodeType":"151","messageId":"152","endLine":390,"endColumn":28},{"ruleId":"149","severity":1,"message":"150","line":391,"column":34,"nodeType":"151","messageId":"152","endLine":391,"endColumn":36},{"ruleId":"149","severity":1,"message":"150","line":393,"column":41,"nodeType":"151","messageId":"152","endLine":393,"endColumn":43},{"ruleId":"149","severity":1,"message":"150","line":395,"column":41,"nodeType":"151","messageId":"152","endLine":395,"endColumn":43},{"ruleId":"149","severity":1,"message":"150","line":397,"column":41,"nodeType":"151","messageId":"152","endLine":397,"endColumn":43},{"ruleId":"149","severity":1,"message":"150","line":413,"column":23,"nodeType":"151","messageId":"152","endLine":413,"endColumn":25},{"ruleId":"149","severity":1,"message":"150","line":414,"column":32,"nodeType":"151","messageId":"152","endLine":414,"endColumn":34},{"ruleId":"149","severity":1,"message":"150","line":416,"column":39,"nodeType":"151","messageId":"152","endLine":416,"endColumn":41},{"ruleId":"149","severity":1,"message":"150","line":418,"column":39,"nodeType":"151","messageId":"152","endLine":418,"endColumn":41},{"ruleId":"149","severity":1,"message":"150","line":420,"column":39,"nodeType":"151","messageId":"152","endLine":420,"endColumn":41},{"ruleId":"149","severity":1,"message":"150","line":427,"column":23,"nodeType":"151","messageId":"152","endLine":427,"endColumn":25},{"ruleId":"149","severity":1,"message":"150","line":428,"column":32,"nodeType":"151","messageId":"152","endLine":428,"endColumn":34},{"ruleId":"149","severity":1,"message":"150","line":430,"column":39,"nodeType":"151","messageId":"152","endLine":430,"endColumn":41},{"ruleId":"149","severity":1,"message":"150","line":432,"column":39,"nodeType":"151","messageId":"152","endLine":432,"endColumn":41},{"ruleId":"149","severity":1,"message":"150","line":434,"column":39,"nodeType":"151","messageId":"152","endLine":434,"endColumn":41},{"ruleId":"149","severity":1,"message":"150","line":441,"column":24,"nodeType":"151","messageId":"152","endLine":441,"endColumn":26},{"ruleId":"149","severity":1,"message":"150","line":442,"column":32,"nodeType":"151","messageId":"152","endLine":442,"endColumn":34},{"ruleId":"149","severity":1,"message":"150","line":444,"column":39,"nodeType":"151","messageId":"152","endLine":444,"endColumn":41},{"ruleId":"149","severity":1,"message":"150","line":446,"column":39,"nodeType":"151","messageId":"152","endLine":446,"endColumn":41},{"ruleId":"149","severity":1,"message":"150","line":448,"column":39,"nodeType":"151","messageId":"152","endLine":448,"endColumn":41},{"ruleId":"149","severity":1,"message":"150","line":454,"column":23,"nodeType":"151","messageId":"152","endLine":454,"endColumn":25},{"ruleId":"149","severity":1,"message":"150","line":456,"column":34,"nodeType":"151","messageId":"152","endLine":456,"endColumn":36},{"ruleId":"149","severity":1,"message":"150","line":458,"column":41,"nodeType":"151","messageId":"152","endLine":458,"endColumn":43},{"ruleId":"149","severity":1,"message":"150","line":460,"column":41,"nodeType":"151","messageId":"152","endLine":460,"endColumn":43},{"ruleId":"149","severity":1,"message":"150","line":462,"column":41,"nodeType":"151","messageId":"152","endLine":462,"endColumn":43},{"ruleId":"149","severity":1,"message":"150","line":470,"column":34,"nodeType":"151","messageId":"152","endLine":470,"endColumn":36},{"ruleId":"149","severity":1,"message":"150","line":472,"column":41,"nodeType":"151","messageId":"152","endLine":472,"endColumn":43},{"ruleId":"149","severity":1,"message":"150","line":474,"column":41,"nodeType":"151","messageId":"152","endLine":474,"endColumn":43},{"ruleId":"149","severity":1,"message":"150","line":476,"column":41,"nodeType":"151","messageId":"152","endLine":476,"endColumn":43},{"ruleId":"149","severity":1,"message":"153","line":503,"column":22,"nodeType":"151","messageId":"152","endLine":503,"endColumn":24},{"ruleId":"126","severity":1,"message":"154","line":515,"column":5,"nodeType":"128","endLine":515,"endColumn":11,"suggestions":"155"},{"ruleId":"121","severity":1,"message":"137","line":1,"column":17,"nodeType":"123","messageId":"124","endLine":1,"endColumn":25},{"ruleId":"121","severity":1,"message":"138","line":2,"column":13,"nodeType":"123","messageId":"124","endLine":2,"endColumn":15},{"ruleId":"121","severity":1,"message":"139","line":3,"column":13,"nodeType":"123","messageId":"124","endLine":3,"endColumn":15},"no-unused-vars","'e' is defined but never used.","Identifier","unusedVar","'socket' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.peer._remoteStreams'. Either include it or remove the dependency array.","ArrayExpression",["156"],"React Hook useEffect has missing dependencies: 'cam', 'mic', 'name', 'nearby', and 'roomID'. Either include them or remove the dependency array.",["157"],"React Hook useEffect has an unnecessary dependency: 'socket'. Either exclude it or remove the dependency array. Outer scope values like 'socket' aren't valid dependencies because mutating them doesn't re-render the component.",["158"],"React Hook useEffect has missing dependencies: 'cam', 'joinedRoom', and 'mic'. Either include them or remove the dependency array.",["159"],"'canv' is assigned a value but never used.","'useState' is defined but never used.","'tf' is defined but never used.","'fp' is defined but never used.","no-native-reassign",["160"],"no-negated-in-lhs",["161"],["162"],["163"],["164"],["165"],"'winClose' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","React Hook useEffect has missing dependencies: 'props.history' and 'users'. Either include them or remove the dependency array.",["166"],{"desc":"167","fix":"168"},{"desc":"169","fix":"170"},{"desc":"171","fix":"172"},{"desc":"173","fix":"174"},"no-global-assign","no-unsafe-negation",{"desc":"167","fix":"175"},{"desc":"169","fix":"176"},{"desc":"171","fix":"177"},{"desc":"173","fix":"178"},{"desc":"179","fix":"180"},"Update the dependencies array to be: [props.peer._remoteStreams]",{"range":"181","text":"182"},"Update the dependencies array to be: [cam, joinedRoom, mic, name, nearby, roomID]",{"range":"183","text":"184"},"Update the dependencies array to be: []",{"range":"185","text":"186"},"Update the dependencies array to be: [cam, faces, joinedRoom, mic]",{"range":"187","text":"188"},{"range":"189","text":"182"},{"range":"190","text":"184"},{"range":"191","text":"186"},{"range":"192","text":"188"},"Update the dependencies array to be: [draw, props.history, users]",{"range":"193","text":"194"},[918,920],"[props.peer._remoteStreams]",[3174,3186],"[cam, joinedRoom, mic, name, nearby, roomID]",[4676,4684],"[]",[5159,5166],"[cam, faces, joinedRoom, mic]",[2014,2016],[4270,4282],[5770,5778],[6247,6254],[15813,15819],"[draw, props.history, users]"]