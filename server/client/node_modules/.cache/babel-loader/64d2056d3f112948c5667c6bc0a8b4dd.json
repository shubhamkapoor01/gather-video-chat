{"ast":null,"code":"var _jsxFileName = \"/Users/hanzla/Desktop/Gather Town/Gather-town/gather-video-chat/server/client/src/RoomSetup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./RoomSetup.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n/*#__PURE__*/\n_jsxDEV(\"script\", {\n  src: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/js/all.min.js\",\n  integrity: \"sha512-cyAbuGborsD25bhT/uz++wPqrh5cqPh1ULJz4NSpN9ktWcA6Hnh9g+CWKeNx2R0fgQt+ybRXdabSBgYXkQTTmA==\",\n  crossorigin: \"anonymous\",\n  referrerpolicy: \"no-referrer\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 3,\n  columnNumber: 1\n}, this);\n\nfunction RoomSetup(props) {\n  _s();\n\n  const [mic, setMic] = useState(true);\n  const [cam, setCam] = useState(true);\n  const [name, setName] = useState(\"\");\n  const videoStream = useRef(null);\n  useEffect(() => {\n    const getUserMedia = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true,\n          audio: true\n        });\n        videoStream.current.srcObject = stream;\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getUserMedia();\n  }, []);\n\n  const muteUnmute = e => {\n    if (mic) {\n      setMic(false);\n      props.setMic(false);\n    } else {\n      setMic(true);\n      props.setMic(true);\n    }\n\n    const enabled = videoStream.current.srcObject.getAudioTracks()[0].enabled;\n\n    if (enabled) {\n      videoStream.current.srcObject.getAudioTracks()[0].enabled = false;\n    } else {\n      videoStream.current.srcObject.getAudioTracks()[0].enabled = true;\n    }\n\n    const muteBtn = document.querySelector(\".mute\");\n    muteBtn.classList.toggle(\"whitened\");\n  };\n\n  const cameraOnOff = e => {\n    if (cam) {\n      setCam(false);\n      props.setCam(false);\n    } else {\n      setCam(true);\n      props.setCam(true);\n    }\n\n    const enabled = videoStream.current.srcObject.getVideoTracks()[0].enabled;\n\n    if (enabled) {\n      videoStream.current.srcObject.getVideoTracks()[0].enabled = false;\n    } else {\n      videoStream.current.srcObject.getVideoTracks()[0].enabled = true;\n    }\n\n    const cameraBtn = document.querySelector(\".camera\");\n    cameraBtn.classList.toggle(\"cameraOff\");\n  };\n\n  const updateName = newName => {\n    setName(newName);\n    props.setName(newName);\n  };\n\n  const joinRoom = e => {\n    if (name === \"\") {\n      alert(\"please enter a valid name\");\n      return;\n    }\n\n    props.setJoinedRoom(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"roomsetup\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"roomsetup-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Vid-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Btn-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => muteUnmute(e),\n            className: \"mute\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-microphone-slash\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => cameraOnOff(e),\n            className: \"camera\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-camera\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          className: \"video\",\n          muted: true,\n          ref: videoStream,\n          autoPlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"join-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"name\",\n          children: \"Enter Your Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"dispName\",\n          placeholder: \"Enter Display Name\",\n          onChange: e => updateName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"join-Btn\",\n          onClick: e => joinRoom(e),\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RoomSetup, \"VW8ytsF7BmEfr1xK9YIhzx8/NcA=\");\n\n_c = RoomSetup;\nexport default RoomSetup;\n\nvar _c;\n\n$RefreshReg$(_c, \"RoomSetup\");","map":{"version":3,"sources":["/Users/hanzla/Desktop/Gather Town/Gather-town/gather-video-chat/server/client/src/RoomSetup.js"],"names":["React","useState","useEffect","useRef","RoomSetup","props","mic","setMic","cam","setCam","name","setName","videoStream","getUserMedia","stream","navigator","mediaDevices","video","audio","current","srcObject","err","console","log","muteUnmute","e","enabled","getAudioTracks","muteBtn","document","querySelector","classList","toggle","cameraOnOff","getVideoTracks","cameraBtn","updateName","newName","joinRoom","alert","setJoinedRoom","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAO,iBAAP;;;AACA;AAAA;AACE,EAAA,GAAG,EAAC,+EADN;AAEE,EAAA,SAAS,EAAC,iGAFZ;AAGE,EAAA,WAAW,EAAC,WAHd;AAIE,EAAA,cAAc,EAAC;AAJjB;AAAA;AAAA;AAAA;AAAA;;AAOA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AACxB,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBN,QAAQ,CAAC,IAAD,CAA9B;AACA,QAAM,CAACO,GAAD,EAAMC,MAAN,IAAgBR,QAAQ,CAAC,IAAD,CAA9B;AACA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMW,WAAW,GAAGT,MAAM,CAAC,IAAD,CAA1B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMW,YAAY,GAAG,YAAY;AAC/B,UAAI;AACF,cAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAV,CAAuBH,YAAvB,CAAoC;AACvDI,UAAAA,KAAK,EAAE,IADgD;AAEvDC,UAAAA,KAAK,EAAE;AAFgD,SAApC,CAArB;AAIAN,QAAAA,WAAW,CAACO,OAAZ,CAAoBC,SAApB,GAAgCN,MAAhC;AACD,OAND,CAME,OAAOO,GAAP,EAAY;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,KAVD;;AAYAR,IAAAA,YAAY;AACb,GAdQ,EAcN,EAdM,CAAT;;AAgBA,QAAMW,UAAU,GAAIC,CAAD,IAAO;AACxB,QAAInB,GAAJ,EAAS;AACPC,MAAAA,MAAM,CAAC,KAAD,CAAN;AACAF,MAAAA,KAAK,CAACE,MAAN,CAAa,KAAb;AACD,KAHD,MAGO;AACLA,MAAAA,MAAM,CAAC,IAAD,CAAN;AACAF,MAAAA,KAAK,CAACE,MAAN,CAAa,IAAb;AACD;;AACD,UAAMmB,OAAO,GAAGd,WAAW,CAACO,OAAZ,CAAoBC,SAApB,CAA8BO,cAA9B,GAA+C,CAA/C,EAAkDD,OAAlE;;AACA,QAAIA,OAAJ,EAAa;AACXd,MAAAA,WAAW,CAACO,OAAZ,CAAoBC,SAApB,CAA8BO,cAA9B,GAA+C,CAA/C,EAAkDD,OAAlD,GAA4D,KAA5D;AACD,KAFD,MAEO;AACLd,MAAAA,WAAW,CAACO,OAAZ,CAAoBC,SAApB,CAA8BO,cAA9B,GAA+C,CAA/C,EAAkDD,OAAlD,GAA4D,IAA5D;AACD;;AACD,UAAME,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAhB;AACAF,IAAAA,OAAO,CAACG,SAAR,CAAkBC,MAAlB,CAAyB,UAAzB;AACD,GAhBD;;AAkBA,QAAMC,WAAW,GAAIR,CAAD,IAAO;AACzB,QAAIjB,GAAJ,EAAS;AACPC,MAAAA,MAAM,CAAC,KAAD,CAAN;AACAJ,MAAAA,KAAK,CAACI,MAAN,CAAa,KAAb;AACD,KAHD,MAGO;AACLA,MAAAA,MAAM,CAAC,IAAD,CAAN;AACAJ,MAAAA,KAAK,CAACI,MAAN,CAAa,IAAb;AACD;;AACD,UAAMiB,OAAO,GAAGd,WAAW,CAACO,OAAZ,CAAoBC,SAApB,CAA8Bc,cAA9B,GAA+C,CAA/C,EAAkDR,OAAlE;;AACA,QAAIA,OAAJ,EAAa;AACXd,MAAAA,WAAW,CAACO,OAAZ,CAAoBC,SAApB,CAA8Bc,cAA9B,GAA+C,CAA/C,EAAkDR,OAAlD,GAA4D,KAA5D;AACD,KAFD,MAEO;AACLd,MAAAA,WAAW,CAACO,OAAZ,CAAoBC,SAApB,CAA8Bc,cAA9B,GAA+C,CAA/C,EAAkDR,OAAlD,GAA4D,IAA5D;AACD;;AACD,UAAMS,SAAS,GAAGN,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAlB;AACAK,IAAAA,SAAS,CAACJ,SAAV,CAAoBC,MAApB,CAA2B,WAA3B;AACD,GAhBD;;AAkBA,QAAMI,UAAU,GAAIC,OAAD,IAAa;AAC9B1B,IAAAA,OAAO,CAAC0B,OAAD,CAAP;AACAhC,IAAAA,KAAK,CAACM,OAAN,CAAc0B,OAAd;AACD,GAHD;;AAKA,QAAMC,QAAQ,GAAIb,CAAD,IAAO;AACtB,QAAIf,IAAI,KAAK,EAAb,EAAiB;AACf6B,MAAAA,KAAK,CAAC,2BAAD,CAAL;AACA;AACD;;AACDlC,IAAAA,KAAK,CAACmC,aAAN,CAAoB,IAApB;AACD,GAND;;AAQA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,kCACE;AAAQ,YAAA,OAAO,EAAGf,CAAD,IAAOD,UAAU,CAACC,CAAD,CAAlC;AAAuC,YAAA,SAAS,EAAC,MAAjD;AAAA,mCACE;AAAG,cAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAQ,YAAA,OAAO,EAAGA,CAAD,IAAOQ,WAAW,CAACR,CAAD,CAAnC;AAAwC,YAAA,SAAS,EAAC,QAAlD;AAAA,mCACE;AAAG,cAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eASE;AAAO,UAAA,SAAS,EAAC,OAAjB;AAAyB,UAAA,KAAK,MAA9B;AAA+B,UAAA,GAAG,EAAEb,WAApC;AAAiD,UAAA,QAAQ;AAAzD;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAYE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACE;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,UAAA,SAAS,EAAC,UADZ;AAEE,UAAA,WAAW,EAAC,oBAFd;AAGE,UAAA,QAAQ,EAAGa,CAAD,IAAOW,UAAU,CAACX,CAAC,CAACgB,MAAF,CAASC,KAAV;AAH7B;AAAA;AAAA;AAAA;AAAA,gBAFF,eAOE;AAAQ,UAAA,SAAS,EAAC,UAAlB;AAA6B,UAAA,OAAO,EAAGjB,CAAD,IAAOa,QAAQ,CAACb,CAAD,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA4BD;;GAnGQrB,S;;KAAAA,S;AAqGT,eAAeA,SAAf","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./RoomSetup.css\";\n<script\n  src=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/js/all.min.js\"\n  integrity=\"sha512-cyAbuGborsD25bhT/uz++wPqrh5cqPh1ULJz4NSpN9ktWcA6Hnh9g+CWKeNx2R0fgQt+ybRXdabSBgYXkQTTmA==\"\n  crossorigin=\"anonymous\"\n  referrerpolicy=\"no-referrer\"\n></script>;\n\nfunction RoomSetup(props) {\n  const [mic, setMic] = useState(true);\n  const [cam, setCam] = useState(true);\n  const [name, setName] = useState(\"\");\n  const videoStream = useRef(null);\n\n  useEffect(() => {\n    const getUserMedia = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true,\n          audio: true,\n        });\n        videoStream.current.srcObject = stream;\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getUserMedia();\n  }, []);\n\n  const muteUnmute = (e) => {\n    if (mic) {\n      setMic(false);\n      props.setMic(false);\n    } else {\n      setMic(true);\n      props.setMic(true);\n    }\n    const enabled = videoStream.current.srcObject.getAudioTracks()[0].enabled;\n    if (enabled) {\n      videoStream.current.srcObject.getAudioTracks()[0].enabled = false;\n    } else {\n      videoStream.current.srcObject.getAudioTracks()[0].enabled = true;\n    }\n    const muteBtn = document.querySelector(\".mute\");\n    muteBtn.classList.toggle(\"whitened\");\n  };\n\n  const cameraOnOff = (e) => {\n    if (cam) {\n      setCam(false);\n      props.setCam(false);\n    } else {\n      setCam(true);\n      props.setCam(true);\n    }\n    const enabled = videoStream.current.srcObject.getVideoTracks()[0].enabled;\n    if (enabled) {\n      videoStream.current.srcObject.getVideoTracks()[0].enabled = false;\n    } else {\n      videoStream.current.srcObject.getVideoTracks()[0].enabled = true;\n    }\n    const cameraBtn = document.querySelector(\".camera\");\n    cameraBtn.classList.toggle(\"cameraOff\");\n  };\n\n  const updateName = (newName) => {\n    setName(newName);\n    props.setName(newName);\n  };\n\n  const joinRoom = (e) => {\n    if (name === \"\") {\n      alert(\"please enter a valid name\");\n      return;\n    }\n    props.setJoinedRoom(true);\n  };\n\n  return (\n    <div className=\"roomsetup\">\n      <div className=\"roomsetup-1\">\n        <div className=\"Vid-controls\">\n          <div className=\"Btn-controls\">\n            <button onClick={(e) => muteUnmute(e)} className=\"mute\">\n              <i className=\"fa fa-microphone-slash\"></i>\n            </button>\n            <button onClick={(e) => cameraOnOff(e)} className=\"camera\">\n              <i className=\"fa fa-camera\"></i>\n            </button>\n          </div>\n          <video className=\"video\" muted ref={videoStream} autoPlay />\n        </div>\n        <div className=\"join-controls\">\n          <h1 className=\"name\">Enter Your Name</h1>\n          <input\n            className=\"dispName\"\n            placeholder=\"Enter Display Name\"\n            onChange={(e) => updateName(e.target.value)}\n          />\n          <button className=\"join-Btn\" onClick={(e) => joinRoom(e)}>\n            Join\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default RoomSetup;\n"]},"metadata":{},"sourceType":"module"}